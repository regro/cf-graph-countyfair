{
  "archived": false,
  "branch": "main",
  "conda-forge.yml": {
    "azure": {
      "free_disk_space": true,
      "settings_linux": {
        "swapfile_size": "8GiB"
      }
    },
    "conda_forge_output_validation": true,
    "github": {
      "branch_name": "main",
      "tooling_branch_name": "main"
    }
  },
  "feedstock_name": "torchtext",
  "hash_type": "sha256",
  "linux_64_meta_yaml": {
    "about": {
      "dev_url": "https://github.com/pytorch/text",
      "home": "https://pytorch.org/text",
      "license": "BSD-3-Clause",
      "license_file": "LICENSE",
      "summary": "Data loaders and abstractions for text and NLP"
    },
    "build": {
      "number": "4",
      "rpaths": [
        "lib/",
        "SP_DIR/torch/lib",
        "SP_DIR/torchtext/lib"
      ],
      "script": "PYTHON -m pip install . --no-deps -vv",
      "script_env": [
        "BUILD_VERSION=0.18.0"
      ]
    },
    "extra": {
      "recipe-maintainers": [
        "h-vetinari",
        "giswqs"
      ]
    },
    "package": {
      "name": "torchtext",
      "version": "0.18.0"
    },
    "requirements": {
      "build": [
        "cxx_compiler_stub",
        "c_stdlib_stub",
        "cmake",
        "ninja",
        "pkg-config"
      ],
      "host": [
        "python",
        "pip",
        "setuptools",
        "numpy",
        "pytorch",
        "double-conversion",
        "libsentencepiece",
        "libutf8proc",
        "re2"
      ],
      "run": [
        "python",
        "nltk",
        "requests",
        "revtok ==0.0.3.1",
        "sacremoses",
        "spacy",
        "tqdm"
      ],
      "run_constrained": [
        "torchdata <0.10"
      ]
    },
    "schema_version": 0,
    "source": {
      "patches": [
        "patches/0001-do-not-build-third_party-libs.patch",
        "patches/0002-fix-some-CMake-arguments-for-our-infrastructure.patch",
        "patches/0003-remove-unnecessary-installation-requirements.patch",
        "patches/0004-don-t-try-to-init-submodules.patch",
        "patches/0005-fix-path-inconsistency-in-test.patch",
        "patches/0006-allow-torch.load-to-load-more-than-weights-as-previo.patch"
      ],
      "sha256": "fe4eb4b361388ef7840dcad117ae95b32252db5520c4eb2b3bead627468fbdf2",
      "url": "https://github.com/pytorch/text/archive/refs/tags/v0.18.0.tar.gz"
    },
    "test": {
      "commands": [
        "pip check",
        "pytest test/torchtext_unittest -v -k \"not (_not_a_real_test or TestVocab)\" --durations=10",
        "pytest test/integration_tests -v -k \"not large\" --durations=10",
        "test -f $SP_DIR/torchtext-0.18.0.dist-info/METADATA"
      ],
      "imports": [
        "torchtext",
        "torchtext.datasets",
        "torchtext.data",
        "torchtext.nn",
        "torchtext.vocab"
      ],
      "requires": [
        "pip",
        "pytest",
        "expecttest",
        "parameterized",
        "portalocker >=2",
        "spacy-model-en_core_web_sm",
        "torchdata >=0.6"
      ],
      "source_files": [
        "test/"
      ]
    }
  },
  "linux_64_requirements": {
    "build": {
      "__set__": true,
      "elements": [
        "c_stdlib_stub",
        "cmake",
        "cxx_compiler_stub",
        "ninja",
        "pkg-config"
      ]
    },
    "host": {
      "__set__": true,
      "elements": [
        "double-conversion",
        "libsentencepiece",
        "libutf8proc",
        "numpy",
        "pip",
        "python",
        "pytorch",
        "re2",
        "setuptools"
      ]
    },
    "run": {
      "__set__": true,
      "elements": [
        "nltk",
        "python",
        "requests",
        "revtok",
        "sacremoses",
        "spacy",
        "tqdm"
      ]
    },
    "test": {
      "__set__": true,
      "elements": [
        "expecttest",
        "parameterized",
        "pip",
        "portalocker",
        "pytest",
        "spacy-model-en_core_web_sm",
        "torchdata"
      ]
    }
  },
  "meta_yaml": {
    "about": {
      "dev_url": "https://github.com/pytorch/text",
      "home": "https://pytorch.org/text",
      "license": "BSD-3-Clause",
      "license_file": "LICENSE",
      "summary": "Data loaders and abstractions for text and NLP"
    },
    "build": {
      "number": "4",
      "rpaths": [
        "lib/",
        "SP_DIR/torch/lib",
        "SP_DIR/torchtext/lib"
      ],
      "script": "PYTHON -m pip install . --no-deps -vv",
      "script_env": [
        "BUILD_VERSION=0.18.0"
      ]
    },
    "extra": {
      "recipe-maintainers": [
        "h-vetinari",
        "giswqs"
      ]
    },
    "package": {
      "name": "torchtext",
      "version": "0.18.0"
    },
    "requirements": {
      "build": [
        "cxx_compiler_stub",
        "c_stdlib_stub",
        "cmake",
        "ninja",
        "pkg-config"
      ],
      "host": [
        "python",
        "pip",
        "setuptools",
        "numpy",
        "pytorch",
        "double-conversion",
        "libsentencepiece",
        "libutf8proc",
        "re2"
      ],
      "run": [
        "python",
        "nltk",
        "requests",
        "revtok ==0.0.3.1",
        "sacremoses",
        "spacy",
        "tqdm"
      ],
      "run_constrained": [
        "torchdata <0.10"
      ]
    },
    "schema_version": 0,
    "source": {
      "patches": [
        "patches/0001-do-not-build-third_party-libs.patch",
        "patches/0002-fix-some-CMake-arguments-for-our-infrastructure.patch",
        "patches/0003-remove-unnecessary-installation-requirements.patch",
        "patches/0004-don-t-try-to-init-submodules.patch",
        "patches/0005-fix-path-inconsistency-in-test.patch",
        "patches/0006-allow-torch.load-to-load-more-than-weights-as-previo.patch"
      ],
      "sha256": "fe4eb4b361388ef7840dcad117ae95b32252db5520c4eb2b3bead627468fbdf2",
      "url": "https://github.com/pytorch/text/archive/refs/tags/v0.18.0.tar.gz"
    },
    "test": {
      "commands": [
        "pip check",
        "pytest test/torchtext_unittest -v -k \"not (_not_a_real_test or TestVocab)\" --durations=10",
        "pytest test/integration_tests -v -k \"not large\" --durations=10",
        "test -f $SP_DIR/torchtext-0.18.0.dist-info/METADATA"
      ],
      "imports": [
        "torchtext",
        "torchtext.datasets",
        "torchtext.data",
        "torchtext.nn",
        "torchtext.vocab"
      ],
      "requires": [
        "pip",
        "pytest",
        "expecttest",
        "parameterized",
        "portalocker >=2",
        "spacy-model-en_core_web_sm",
        "torchdata >=0.6"
      ],
      "source_files": [
        "test/"
      ]
    }
  },
  "name": "torchtext",
  "osx_64_meta_yaml": {
    "about": {
      "dev_url": "https://github.com/pytorch/text",
      "home": "https://pytorch.org/text",
      "license": "BSD-3-Clause",
      "license_file": "LICENSE",
      "summary": "Data loaders and abstractions for text and NLP"
    },
    "build": {
      "number": "4",
      "rpaths": [
        "lib/",
        "SP_DIR/torch/lib",
        "SP_DIR/torchtext/lib"
      ],
      "script": "PYTHON -m pip install . --no-deps -vv",
      "script_env": [
        "BUILD_VERSION=0.18.0"
      ]
    },
    "extra": {
      "recipe-maintainers": [
        "h-vetinari",
        "giswqs"
      ]
    },
    "package": {
      "name": "torchtext",
      "version": "0.18.0"
    },
    "requirements": {
      "build": [
        "cxx_compiler_stub",
        "c_stdlib_stub",
        "cmake",
        "ninja",
        "pkg-config"
      ],
      "host": [
        "python",
        "pip",
        "setuptools",
        "numpy",
        "pytorch",
        "double-conversion",
        "libsentencepiece",
        "libutf8proc",
        "re2"
      ],
      "run": [
        "python",
        "nltk",
        "requests",
        "revtok ==0.0.3.1",
        "sacremoses",
        "spacy",
        "tqdm"
      ],
      "run_constrained": [
        "torchdata <0.10"
      ]
    },
    "schema_version": 0,
    "source": {
      "patches": [
        "patches/0001-do-not-build-third_party-libs.patch",
        "patches/0002-fix-some-CMake-arguments-for-our-infrastructure.patch",
        "patches/0003-remove-unnecessary-installation-requirements.patch",
        "patches/0004-don-t-try-to-init-submodules.patch",
        "patches/0005-fix-path-inconsistency-in-test.patch",
        "patches/0006-allow-torch.load-to-load-more-than-weights-as-previo.patch"
      ],
      "sha256": "fe4eb4b361388ef7840dcad117ae95b32252db5520c4eb2b3bead627468fbdf2",
      "url": "https://github.com/pytorch/text/archive/refs/tags/v0.18.0.tar.gz"
    },
    "test": {
      "commands": [
        "pip check",
        "pytest test/torchtext_unittest -v -k \"not (_not_a_real_test or TestVocab)\" --durations=10",
        "pytest test/integration_tests -v -k \"not large\" --durations=10",
        "test -f $SP_DIR/torchtext-0.18.0.dist-info/METADATA"
      ],
      "imports": [
        "torchtext",
        "torchtext.datasets",
        "torchtext.data",
        "torchtext.nn",
        "torchtext.vocab"
      ],
      "requires": [
        "pip",
        "pytest",
        "expecttest",
        "parameterized",
        "portalocker >=2",
        "spacy-model-en_core_web_sm",
        "torchdata >=0.6"
      ],
      "source_files": [
        "test/"
      ]
    }
  },
  "osx_64_requirements": {
    "build": {
      "__set__": true,
      "elements": [
        "c_stdlib_stub",
        "cmake",
        "cxx_compiler_stub",
        "ninja",
        "pkg-config"
      ]
    },
    "host": {
      "__set__": true,
      "elements": [
        "double-conversion",
        "libsentencepiece",
        "libutf8proc",
        "numpy",
        "pip",
        "python",
        "pytorch",
        "re2",
        "setuptools"
      ]
    },
    "run": {
      "__set__": true,
      "elements": [
        "nltk",
        "python",
        "requests",
        "revtok",
        "sacremoses",
        "spacy",
        "tqdm"
      ]
    },
    "test": {
      "__set__": true,
      "elements": [
        "expecttest",
        "parameterized",
        "pip",
        "portalocker",
        "pytest",
        "spacy-model-en_core_web_sm",
        "torchdata"
      ]
    }
  },
  "outputs_names": {
    "__set__": true,
    "elements": [
      "torchtext"
    ]
  },
  "parsing_error": false,
  "platforms": [
    "linux_64",
    "osx_64"
  ],
  "pr_info": {
    "__lazy_json__": "pr_info/torchtext.json"
  },
  "raw_meta_yaml": "{% set version = \"0.18.0\" %}\n{% set spacy_model = \"en_core_web_sm\" %}\n\npackage:\n  name: torchtext\n  version: {{ version }}\n\nsource:\n  url: https://github.com/pytorch/text/archive/refs/tags/v{{ version }}.tar.gz\n  sha256: fe4eb4b361388ef7840dcad117ae95b32252db5520c4eb2b3bead627468fbdf2\n  patches:\n    # don't build pytorch/text/tree/main/third_party; pull in from conda-forge \n    - patches/0001-do-not-build-third_party-libs.patch\n    # make sure we install from $PREFIX and into $SP_DIR/torchtext\n    - patches/0002-fix-some-CMake-arguments-for-our-infrastructure.patch\n    # remove spurious run requirements from installation requirements\n    - patches/0003-remove-unnecessary-installation-requirements.patch\n    - patches/0004-don-t-try-to-init-submodules.patch\n    - patches/0005-fix-path-inconsistency-in-test.patch\n    # work around behaviour change in pytorch 2.6\n    - patches/0006-allow-torch.load-to-load-more-than-weights-as-previo.patch\n\nbuild:\n  number: 4\n  # no pytorch on windows in conda-forge, see\n  # https://github.com/conda-forge/pytorch-cpu-feedstock/issues/32\n  skip: true  # [win]\n  # to ensure we get the right version without extra suffixes, c.f.\n  # https://github.com/pytorch/text/blob/v0.18.0/packaging/pkg_helpers.bash#L114\n  script_env:\n    - BUILD_VERSION={{ version }}\n  script: {{ PYTHON }} -m pip install . --no-deps -vv\n  rpaths:\n    - lib/\n    - {{ SP_DIR }}/torch/lib\n    - {{ SP_DIR }}/torchtext/lib\n\nrequirements:\n  build:\n    - {{ compiler('cxx') }}\n    - {{ stdlib('c') }}\n    - cmake\n    - ninja\n    - pkg-config\n  host:\n    - python\n    - pip\n    - setuptools\n    - numpy\n    - pytorch\n    # from pytorch/text/tree/main/third_party\n    - double-conversion\n    - libsentencepiece\n    - libutf8proc\n    - re2\n  run:\n    - python\n    - nltk\n    - requests\n    - revtok ==0.0.3.1\n    - sacremoses\n    - spacy\n    - tqdm\n  run_constrained:\n    # see https://github.com/pytorch/data/commit/c64801fc6b7e9d3693a0b73621a5d7ac8b4b82e5\n    - torchdata <0.10\n\ntest:\n  requires:\n    - pip\n    - pytest\n    - expecttest\n    - parameterized\n    - portalocker >=2\n    - spacy-model-{{ spacy_model }}\n    - torchdata >=0.6\n  source_files:\n    - test/\n  imports:\n    - torchtext\n    - torchtext.datasets\n    - torchtext.data\n    - torchtext.nn\n    - torchtext.vocab\n  commands:\n    - pip check\n    {% set tests_to_skip = \"_not_a_real_test\" %}\n    # tests with URLs that don't exist anymore, plus some extreme download times (>5min)\n    {% set tests_to_skip = tests_to_skip + \" or TestVocab\" %}\n\n    # run test suite\n    - pytest test/torchtext_unittest -v -k \"not ({{ tests_to_skip }})\" --durations=10\n    # don't run \"large\" integration tests, which might get OOM killed\n    - pytest test/integration_tests -v -k \"not large\" --durations=10\n\n    # ensure that the package metadata did not mangle in the git hash or other suffixes\n    - test -f $SP_DIR/torchtext-{{ version }}.dist-info/METADATA        # [unix]\n\nabout:\n  home: https://pytorch.org/text\n  license: BSD-3-Clause\n  license_file: LICENSE\n  summary: Data loaders and abstractions for text and NLP\n  dev_url: https://github.com/pytorch/text\n\nextra:\n  recipe-maintainers:\n    - h-vetinari\n    - giswqs\n",
  "req": {
    "__set__": true,
    "elements": [
      "c_stdlib_stub",
      "cmake",
      "cxx_compiler_stub",
      "double-conversion",
      "libsentencepiece",
      "libutf8proc",
      "ninja",
      "nltk",
      "numpy",
      "pip",
      "pkg-config",
      "python",
      "pytorch",
      "re2",
      "requests",
      "revtok",
      "sacremoses",
      "setuptools",
      "spacy",
      "tqdm"
    ]
  },
  "requirements": {
    "build": {
      "__set__": true,
      "elements": [
        "c_stdlib_stub",
        "cmake",
        "cxx_compiler_stub",
        "ninja",
        "pkg-config"
      ]
    },
    "host": {
      "__set__": true,
      "elements": [
        "c_stdlib_stub",
        "cxx_compiler_stub",
        "double-conversion",
        "libsentencepiece",
        "libutf8proc",
        "numpy",
        "pip",
        "python",
        "pytorch",
        "re2",
        "setuptools"
      ]
    },
    "run": {
      "__set__": true,
      "elements": [
        "c_stdlib_stub",
        "cxx_compiler_stub",
        "nltk",
        "python",
        "requests",
        "revtok",
        "sacremoses",
        "spacy",
        "tqdm"
      ]
    },
    "test": {
      "__set__": true,
      "elements": [
        "expecttest",
        "parameterized",
        "pip",
        "portalocker",
        "pytest",
        "spacy-model-en_core_web_sm",
        "torchdata"
      ]
    }
  },
  "strong_exports": false,
  "total_requirements": {
    "build": {
      "__set__": true,
      "elements": [
        "c_stdlib_stub",
        "cmake",
        "cxx_compiler_stub",
        "ninja",
        "pkg-config"
      ]
    },
    "host": {
      "__set__": true,
      "elements": [
        "double-conversion",
        "libsentencepiece",
        "libutf8proc",
        "numpy",
        "pip",
        "python",
        "pytorch",
        "re2",
        "setuptools"
      ]
    },
    "run": {
      "__set__": true,
      "elements": [
        "nltk",
        "python",
        "requests",
        "revtok ==0.0.3.1",
        "sacremoses",
        "spacy",
        "tqdm"
      ]
    },
    "test": {
      "__set__": true,
      "elements": [
        "expecttest",
        "parameterized",
        "pip",
        "portalocker >=2",
        "pytest",
        "spacy-model-en_core_web_sm",
        "torchdata >=0.6"
      ]
    }
  },
  "url": "https://github.com/pytorch/text/archive/refs/tags/v0.18.0.tar.gz",
  "version": "0.18.0",
  "version_pr_info": {
    "__lazy_json__": "version_pr_info/torchtext.json"
  }
}